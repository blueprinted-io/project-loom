/* Theme variables.
   Default is LIGHT. Dark is opt-in via the theme toggle (no auto mode). */

/* Inter webfont (bundled locally) */
@font-face{
  font-family:"Inter";
  src:url("/static/fonts/Inter-Thin.woff2") format("woff2");
  font-weight:100;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"Inter";
  src:url("/static/fonts/Inter-ExtraLight.woff2") format("woff2");
  font-weight:200;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"Inter";
  src:url("/static/fonts/Inter-Regular.woff2") format("woff2");
  font-weight:400;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"Inter";
  src:url("/static/fonts/Inter-Light.woff2") format("woff2");
  font-weight:300;
  font-style:normal;
  font-display:swap;
}
@font-face{
  font-family:"Inter";
  src:url("/static/fonts/Inter-SemiBold.woff2") format("woff2");
  font-weight:600;
  font-style:normal;
  font-display:swap;
}

:root{
  --bg:#f5f7fb;
  --panel:#ffffff;
  --ink:#111827;
  --muted:#6b7280;
  --border:#e5e7eb;

  --brand:#000033;
  --brand-2:#0a0a3d;
  --accent:#2f6bff;
  --accent-2:#1f55d8;

  /* secondary accent (used sparingly for focus/system cues) */
  --signal:#06b6d4;

  --warn:#b45309;
  --ok:#15803d;
  --danger:#b91c1c;
}

html[data-theme="dark"]{
  /* Force dark (opt-in) */
  color-scheme: dark;
  --bg:#0b1220;
  --panel:#0f1a2b;
  --ink:#e5e7eb;
  --muted:#a8b3c7;
  --border:#23324a;

  --brand:#000022;
  --brand-2:#000033;
  --accent:#7aa2ff;
  --accent-2:#5a86ff;

  --signal:#22d3ee;

  --warn:#f59e0b;
  --ok:#34d399;
  --danger:#fb7185;
}

*{box-sizing:border-box}
html{font-size:16px}
body{
  font-family:"Inter", ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  margin:0;
  color:var(--ink);
  line-height:1.55;
  background: var(--bg);
  letter-spacing:-0.005em;
}

/* Typography */
h1,h2,h3{letter-spacing:-0.02em;line-height:1.15;margin:0 0 8px 0}
h1{font-weight:200;font-size:34px}
h2{font-weight:300;font-size:22px;margin-top:6px}
h3{font-weight:400;font-size:16px;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted)}

p{margin:10px 0}

a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.wrap{max-width:1200px;margin:0 auto;padding:20px}

.topbar{
  position:relative;
  overflow:hidden;
  background:linear-gradient(180deg,var(--brand),var(--brand-2));
  border-bottom:1px solid rgba(255,255,255,.15);
}

/* Header artwork: masked via cover + dark overlay so the network is faint */
.topbar::before{
  content:"";
  position:absolute;
  inset:0;
  background-image:
    linear-gradient(180deg, rgba(0,0,24,.74), rgba(0,0,51,.70)),
    url("/static/header-network.png");
  background-size:cover;
  background-position:center;
  opacity:0.85;
  filter:saturate(1.05) brightness(0.92);
  transform:scale(1.02);
  z-index:0;
}

.topbar .wrap,
.topbar .pulse{
  position:relative;
  z-index:1;
}

.topbar .brand-name{font-weight:200;letter-spacing:-0.02em}

.pulse{
  border-top:1px solid rgba(255,255,255,.18);
  background:var(--brand);
}
.pulse-inner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 0}
.pulse-left,.pulse-right{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.pulse-title{font-size:11px;font-weight:900;letter-spacing:.12em;text-transform:uppercase;color:#fff;margin-left:14px}
.pulse-item{
  display:inline-flex;align-items:center;gap:8px;
  height:28px;
  font-size:12px;
  color:#fff;
  padding:0 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.24);
  background:var(--brand-2);
  box-shadow:0 1px 0 rgba(0,0,0,.28) inset;
}
.pulse-item.muted{color:rgba(255,255,255,.92)}

/* force white text inside pulse strip, regardless of global .muted rules */
.pulse, .pulse *{color:#fff}
.pulse .muted{color:rgba(255,255,255,.92)}
.pulse a{color:#fff}
.topbar .wrap{display:flex;align-items:center;justify-content:space-between;gap:18px}
.brand{display:flex;flex-direction:column;gap:4px}
.brand-link{display:flex;align-items:center;gap:12px}
.brand-name{font-weight:200;letter-spacing:-0.02em;color:#fff;font-size:26px}
.brand-sub{font-size:12px;color:rgba(255,255,255,.75)}
.topbar-right{display:flex;align-items:center;gap:10px}

.userchip{
  background:var(--brand-2);
  border:1px solid rgba(255,255,255,.18);
  border-radius:12px;
  padding:0 12px;
  height:36px;
  display:inline-flex;
  align-items:center;
  color:#fff;
  box-shadow:0 1px 0 rgba(0,0,0,.28) inset;
}
.userchip-label{font-size:11px;color:rgba(255,255,255,.78);font-weight:800;letter-spacing:.08em;text-transform:uppercase;margin-right:6px}
.role{font-weight:700}

.layout{display:flex;gap:16px;align-items:flex-start}
.sidebar{width:260px;flex:0 0 260px;background:color-mix(in oklab, var(--panel) 96%, var(--bg));border:1px solid color-mix(in oklab, var(--border) 70%, transparent);border-radius:16px;padding:14px;position:sticky;top:18px;box-shadow:0 12px 30px rgba(17,24,39,.06)}
.sidebar-section{margin-bottom:14px}
.sidebar-title{font-size:12px;font-weight:750;color:color-mix(in oklab, var(--muted) 70%, var(--ink));text-transform:none;letter-spacing:.01em;margin:10px 8px}
.navlink{display:block;padding:10px 12px;border-radius:12px;color:var(--ink);border:1px solid transparent;transition:background .15s ease,border-color .15s ease,transform .05s ease}
.navlink:hover{background:color-mix(in oklab, var(--bg) 60%, var(--panel));text-decoration:none;border-color:color-mix(in oklab, var(--border) 55%, transparent)}
.navlink:active{transform:translateY(1px)}
.sidebar-foot{margin-top:18px;padding:10px 8px;border-top:1px solid color-mix(in oklab, var(--border) 70%, transparent);font-size:12px}

.content{flex:1 1 auto;min-width:0}

.row{display:flex;justify-content:space-between;align-items:center;gap:12px}
.row-right{display:flex;align-items:center;gap:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:14px}

.card{background:var(--panel);border:1px solid color-mix(in oklab, var(--border) 70%, transparent);border-radius:16px;padding:18px;margin-top:16px;box-shadow:0 18px 40px rgba(17,24,39,.06), 0 1px 0 rgba(17,24,39,.04)}

.table{width:100%;border-collapse:separate;border-spacing:0;margin-top:14px;background:var(--panel);border:1px solid color-mix(in oklab, var(--border) 70%, transparent);border-radius:16px;overflow:hidden;box-shadow:0 14px 36px rgba(17,24,39,.05)}
.table th,.table td{border-bottom:1px solid color-mix(in oklab, var(--border) 70%, transparent);padding:12px 14px;text-align:left;vertical-align:top}
.table th{background:color-mix(in oklab, var(--bg) 65%, var(--panel));font-size:12px;font-weight:800;letter-spacing:.02em;color:color-mix(in oklab, var(--muted) 65%, var(--ink))}
.table tbody tr:nth-child(odd) td{background:color-mix(in oklab, var(--panel) 96%, var(--bg))}
.table tbody tr:hover td{background:color-mix(in oklab, var(--panel) 90%, var(--bg))}
.table tr:last-child td{border-bottom:none}

.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 92%, #fff), var(--brand));color:white;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:9px 14px;cursor:pointer;font-weight:800;transition:transform .05s ease,filter .15s ease,box-shadow .15s ease}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform:translateY(1px)}

.btn.secondary{background:color-mix(in oklab, var(--panel) 92%, var(--bg));color:var(--ink);border:1px solid color-mix(in oklab, var(--border) 70%, transparent)}
.btn.secondary:hover{filter:none;box-shadow:0 10px 24px rgba(17,24,39,.06)}

.btn:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 55%, transparent);outline-offset:2px}

/* buttons inside topbar need inverted secondary styling */
.topbar .btn.secondary{background:transparent;color:#fff;border-color:rgba(255,255,255,.25)}
.topbar .btn.secondary:hover{background:rgba(255,255,255,.08)}

label{display:block;margin-top:14px;margin-bottom:7px;font-weight:750;color:color-mix(in oklab, var(--muted) 55%, var(--ink))}
input,textarea,select{width:100%;background:color-mix(in oklab, var(--panel) 96%, var(--bg));color:var(--ink);border:1px solid color-mix(in oklab, var(--border) 70%, transparent);border-radius:12px;padding:11px;transition:border-color .15s ease, box-shadow .15s ease, background .15s ease}
input:focus,textarea:focus,select:focus{outline:none;border-color:color-mix(in oklab, var(--accent) 55%, var(--border));box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 18%, transparent)}
.check{display:flex;align-items:center;gap:10px;font-weight:750}
.check input{width:auto}
.muted{color:var(--muted)}

.badge{display:inline-flex;align-items:center;gap:8px;padding:3px 10px;border-radius:999px;font-size:12px;border:1px solid var(--border);background:rgba(249,250,251,.9);color:var(--ink);font-weight:800}
html[data-theme="dark"] .badge{background:rgba(255,255,255,.06)}
.badge::before{content:"";width:8px;height:8px;border-radius:999px;background:currentColor;opacity:.55}
.badge-draft{background:#eef2ff;border-color:#e0e7ff;color:#3730a3}
.badge-submitted{background:#fff7ed;border-color:#fed7aa;color:#9a3412}
.badge-confirmed{background:#ecfdf5;border-color:#bbf7d0;color:#166534}
.badge-returned{background:#fef3c7;border-color:#fde68a;color:#92400e}
.badge-deprecated{background:#f3f4f6;border-color:#e5e7eb;color:#6b7280}
.badge-warn{background:#fff7ed;border-color:#fed7aa;color:#9a3412}

html[data-theme="dark"] .badge-returned{background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.35);color:rgba(245,158,11,.95)}

.callout{border-radius:12px;padding:12px;margin-top:12px;border:1px solid var(--border);background:var(--panel)}
.callout.warn{border-color:#fed7aa;background:#fff7ed}
.callout.danger{border-color:#fecaca;background:#fef2f2}

html[data-theme="dark"] .callout.warn{border-color:rgba(245,158,11,.35);background:rgba(245,158,11,.10)}
html[data-theme="dark"] .callout.danger{border-color:rgba(251,113,133,.35);background:rgba(251,113,133,.10)}

.filters{margin-top:10px;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.filters .search{margin-left:auto;display:flex;gap:8px;align-items:center}
.filters .search input[type=text]{min-width:240px}

.pill{padding:4px 10px;border:1px solid var(--border);border-radius:999px;background:var(--panel);color:var(--ink)}
.pill.active{background:rgba(243,244,246,.9)}
html[data-theme="dark"] .pill.active{background:rgba(255,255,255,.06)}

code{background:rgba(243,244,246,.95);padding:2px 6px;border-radius:8px;border:1px solid rgba(229,231,235,.9)}
html[data-theme="dark"] code{background:rgba(0,0,0,.25);border-color:rgba(255,255,255,.12)}

@media (max-width: 980px){
  .layout{flex-direction:column}
  .sidebar{width:100%;position:relative;top:auto}
}
